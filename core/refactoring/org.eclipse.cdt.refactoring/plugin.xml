<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>
   <extension point="org.eclipse.ui.popupMenus">
      <viewerContribution 
            targetID="#CEditorContext" 
            id="org.eclipse.cdt.refactoring.rename"
      >
         <menu
               id="org.eclipse.cdt.ui.refactoring.menu"
               label="%Refactoring.menu.label"
               path="group.reorganize">
            <separator name="reorgGroup"/>
            <separator name="typeGroup"/>
            <separator name="codingGroup"/>
            <separator name="undoRedoGroup"/>
         </menu>
         <action 
               label="%Refactoring.renameAction.label" 
               class="org.eclipse.cdt.refactoring.actions.CRenameEditorActionDelegate" 
               menubarPath="org.eclipse.cdt.ui.refactoring.menu/reorgGroup" 
               id="org.eclipse.cdt.refactoring.rename"
               definitionId="org.eclipse.cdt.ui.edit.text.c.rename.element"
         />
      </viewerContribution>
      <objectContribution 
            id="org.eclipse.cdt.refactoring.contrib"
            objectClass="org.eclipse.cdt.core.model.ICElement"
      > 
         <visibility>
            <objectClass name="org.eclipse.cdt.core.model.ISourceReference"/>
         </visibility>
         <menu
               id="org.eclipse.cdt.ui.refactoring.menu"
               label="%Refactoring.menu.label"
               path="group.reorganize">
            <separator name="reorgGroup"/>
            <separator name="typeGroup"/>
            <separator name="codingGroup"/>
         </menu> 
         <action 
               label="%Refactoring.renameAction.label" 
               class="org.eclipse.cdt.refactoring.actions.CRenameViewActionDelegate" 
               menubarPath="org.eclipse.cdt.ui.refactoring.menu/reorgGroup" 
               id="org.eclipse.cdt.refactoring.rename"
               definitionId="org.eclipse.cdt.ui.edit.text.c.rename.element"
         />
      </objectContribution>
   </extension>

   <!-- Action set for refactoring menu                                                            -->
   <extension
         point="org.eclipse.ui.actionSets">
      <actionSet
            label="%CodingActionSet.label"
            description="%CodingActionSet.description"
            visible="false"
            id="org.eclipse.cdt.ui.CodingActionSet">
         <menu
               label="%Refactoring.menu.label"
               path="edit"
               id="org.eclipse.jdt.ui.refactoring.menu">
            <separator name="reorgGroup"/>
            <separator name="typeGroup"/>
            <separator name="codingGroup"/>
         </menu>
         <!-- reorg group  -->
         <action
               definitionId="org.eclipse.cdt.ui.edit.text.c.rename.element"
               label="%Refactoring.renameAction.label"
               class="org.eclipse.cdt.refactoring.actions.CRenameWorkbenchActionDelegate"
               menubarPath="org.eclipse.jdt.ui.refactoring.menu/reorgGroup"
               id="org.eclipse.cdt.ui.actions.Rename">
         </action>
      </actionSet>
   </extension>      
   <!-- commands -->
   <extension
         point="org.eclipse.ui.contexts">
      <context
            name="%scope.cEditor.name"
            parentId="org.eclipse.ui.textEditorScope"
            description="%cEditor.description"
            id="org.eclipse.cdt.ui.cEditorScope">
      </context>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <category
            name="%category.refactoring.name"
            description="%category.refactoring.description"
            id="org.eclipse.cdt.ui.category.refactoring">
      </category>
      <command
            name="%ActionDefinition.renameElement.name"
            description="%ActionDefinition.renameElement.description"
            categoryId="org.eclipse.cdt.ui.category.refactoring"
            id="org.eclipse.cdt.ui.edit.text.c.rename.element">
      </command>
   </extension>    
   <extension
         point="org.eclipse.ui.bindings">
   	  <key
            sequence="Alt+Shift+R"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            contextId="org.eclipse.cdt.ui.cEditorScope"
            commandId="org.eclipse.cdt.ui.edit.text.c.rename.element"
      />
   </extension>

   <!-- Action set associations -->
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension targetID="org.eclipse.cdt.ui.CPerspective">
         <actionSet id="org.eclipse.cdt.ui.CodingActionSet"/>
      </perspectiveExtension>
   </extension>
   <extension
         point="org.eclipse.ui.actionSetPartAssociations">
      <actionSetPartAssociation targetID="org.eclipse.cdt.ui.CodingActionSet">
         <part id="org.eclipse.cdt.ui.editor.CEditor"/>
         <part id="org.eclipse.cdt.ui.CView"/>
      </actionSetPartAssociation>
   </extension>    
</plugin>
