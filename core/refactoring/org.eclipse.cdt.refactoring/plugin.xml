<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>
   <extension point="org.eclipse.ui.popupMenus">
      <viewerContribution 
            targetID="#CEditorContext" 
            id="org.eclipse.cdt.refactoring.rename"
      >
         <menu
               id="org.eclipse.cdt.ui.refactoring.menu"
               label="%Refactoring.menu.label"
               path="group.reorganize">
            <separator name="reorgGroup"/>
            <separator name="typeGroup"/>
            <separator name="codingGroup"/>
            <separator name="undoRedoGroup"/>
         </menu>
         <action 
               label="%Refactoring.renameAction.label" 
               class="org.eclipse.cdt.refactoring.actions.CRenameEditorActionDelegate" 
               menubarPath="org.eclipse.cdt.ui.refactoring.menu/reorgGroup" 
               id="org.eclipse.cdt.refactoring.rename"
               definitionId="org.eclipse.cdt.ui.edit.text.c.rename.element"
         />
         <!--action 
               label="%Refactoring.redoAction.label" 
               class="org.eclipse.cdt.refactoring.actions.CRedoEditorActionDelegate" 
               menubarPath="org.eclipse.cdt.ui.refactoring.menu/undoRedoGroup" 
               id="org.eclipse.cdt.refactoring.redo"
               definitionId="org.eclipse.cdt.ui.edit.text.c.refactor.redo"
         />
         <action 
               label="%Refactoring.undoAction.label" 
               class="org.eclipse.cdt.refactoring.actions.CUndoEditorActionDelegate" 
               menubarPath="org.eclipse.cdt.ui.refactoring.menu/undoRedoGroup" 
               id="org.eclipse.cdt.refactoring.undo"
               definitionId="org.eclipse.cdt.ui.edit.text.c.refactor.undo"
         /-->
      </viewerContribution>
      <objectContribution 
            id="org.eclipse.cdt.refactoring.contrib"
            objectClass="org.eclipse.cdt.core.model.ICElement"
      > 
         <visibility>
            <objectClass name="org.eclipse.cdt.core.model.ISourceReference"/>
         </visibility>
         <menu
               id="org.eclipse.cdt.ui.refactoring.menu"
               label="%Refactoring.menu.label"
               path="group.reorganize">
            <separator name="reorgGroup"/>
            <separator name="typeGroup"/>
            <separator name="codingGroup"/>
            <separator name="undoRedoGroup"/>
         </menu> 
         <action 
               label="%Refactoring.renameAction.label" 
               class="org.eclipse.cdt.refactoring.actions.CRenameViewActionDelegate" 
               menubarPath="org.eclipse.cdt.ui.refactoring.menu/reorgGroup" 
               id="org.eclipse.cdt.refactoring.rename"
               definitionId="org.eclipse.cdt.ui.edit.text.c.rename.element"
         />
         <!--action 
               label="%Refactoring.redoAction.label" 
               class="org.eclipse.cdt.refactoring.actions.CRedoViewActionDelegate" 
               menubarPath="org.eclipse.cdt.ui.refactoring.menu/undoRedoGroup" 
               id="org.eclipse.cdt.refactoring.redo"
               definitionId="org.eclipse.cdt.ui.edit.text.c.refactor.redo"
         />
         <action 
               label="%Refactoring.undoAction.label" 
               class="org.eclipse.cdt.refactoring.actions.CUndoViewActionDelegate" 
               menubarPath="org.eclipse.cdt.ui.refactoring.menu/undoRedoGroup" 
               id="org.eclipse.cdt.refactoring.undo"
               definitionId="org.eclipse.cdt.ui.edit.text.c.refactor.undo"
         /-->
      </objectContribution>
   </extension>

   <!-- Action set for refactoring menu                                                            -->
   <extension
         point="org.eclipse.ui.actionSets">
      <actionSet
            label="%CodingActionSet.label"
            description="%CodingActionSet.description"
            visible="true"
            id="org.eclipse.cdt.ui.CodingActionSet">
         <menu
               label="%Refactoring.menu.label"
               path="edit"
               id="org.eclipse.jdt.ui.refactoring.menu">
            <separator name="undoRedoGroup"/>
            <separator name="reorgGroup"/>
            <separator name="typeGroup"/>
            <separator name="codingGroup"/>
         </menu>
         <!-- undo/redo group  -->
         <action
               definitionId="org.eclipse.cdt.ui.edit.text.c.refactor.redo"
               label="%Refactoring.redoAction.label"
               class="org.eclipse.ltk.ui.refactoring.RedoRefactoringAction"
               menubarPath="org.eclipse.jdt.ui.refactoring.menu/undoRedoGroup"
               id="RedoAction">
         </action>
         <action
               definitionId="org.eclipse.cdt.ui.edit.text.c.refactor.undo"
               label="%Refactoring.undoAction.label"
               class="org.eclipse.ltk.ui.refactoring.UndoRefactoringAction"
               menubarPath="org.eclipse.jdt.ui.refactoring.menu/undoRedoGroup"
               id="UndoAction">
         </action>
         <!-- reorg group  -->
         <action
               definitionId="org.eclipse.cdt.ui.edit.text.c.rename.element"
               label="%Refactoring.renameAction.label"
               class="org.eclipse.cdt.refactoring.actions.CRenameWorkbenchActionDelegate"
               menubarPath="org.eclipse.jdt.ui.refactoring.menu/reorgGroup"
               id="org.eclipse.cdt.ui.actions.Rename">
         </action>
      </actionSet>
   </extension>      
   <!-- commands -->
   <extension
         point="org.eclipse.ui.contexts">
      <context
            name="%scope.cEditor.name"
            parentId="org.eclipse.ui.textEditorScope"
            description="%cEditor.description"
            id="org.eclipse.cdt.ui.cEditorScope">
      </context>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <category
            name="%category.refactoring.name"
            description="%category.refactoring.description"
            id="org.eclipse.cdt.ui.category.refactoring">
      </category>
      <command
            name="%ActionDefinition.renameElement.name"
            description="%ActionDefinition.renameElement.description"
            categoryId="org.eclipse.cdt.ui.category.refactoring"
            id="org.eclipse.cdt.ui.edit.text.c.rename.element">
      </command>
      <command
            name="%ActionDefinition.refactorRedo.name"
            description="%ActionDefinition.refactorRedo.description"
            categoryId="org.eclipse.cdt.ui.category.refactoring"
            id="org.eclipse.cdt.ui.edit.text.c.refactor.redo">
      </command>
      <command
            name="%ActionDefinition.refactorUndo.name"
            description="%ActionDefinition.refactorUndo.description"
            categoryId="org.eclipse.cdt.ui.category.refactoring"
            id="org.eclipse.cdt.ui.edit.text.c.refactor.undo">
      </command>      
   </extension>    
   <extension
         point="org.eclipse.ui.bindings">
   	  <key
            sequence="Alt+Shift+R"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            contextId="org.eclipse.cdt.ui.cEditorScope"
            commandId="org.eclipse.cdt.ui.edit.text.c.rename.element"
      />
   	  <key
            sequence="Alt+Shift+Y"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            contextId="org.eclipse.cdt.ui.cEditorScope"
            commandId="org.eclipse.cdt.ui.edit.text.c.refactor.redo"
      />
   	  <key
            sequence="Alt+Shift+Z"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            contextId="org.eclipse.cdt.ui.cEditorScope"
            commandId="org.eclipse.cdt.ui.edit.text.c.refactor.undo"
      />
   </extension>    
</plugin>
